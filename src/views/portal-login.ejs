<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= tenant.portalTitle || 'Portal Wi-Fi' %>
    </title>
    <!-- <link href="/css/fonts.css" rel="stylesheet"> -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            /* Blue dark premium */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            color: #334155;
        }

        /* Background Abstract Shapes */
        .bg-shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            z-index: 1;
        }

        .shape-1 {
            top: -10%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: rgba(249, 115, 22, 0.15);
            /* Orange accent */
        }

        .shape-2 {
            bottom: -10%;
            left: -10%;
            width: 400px;
            height: 400px;
            background: rgba(59, 130, 246, 0.1);
            /* Blue accent */
        }

        .card {
            background: rgba(15, 23, 42, 0.6);
            /* Dark Transparent Background */
            backdrop-filter: blur(12px);
            padding: 1.5rem 2.5rem;
            border-radius: 24px;
            box-shadow:
                0 25px 50px -12px rgba(0, 0, 0, 0.5),
                0 0 0 1px #f97316;
            /* Thin orange border */
            /* Glassmorphism hint */
            width: 100%;
            max-width: 420px;
            text-align: center;
            position: relative;
            z-index: 10;
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo-container {
            margin-bottom: 0.5rem;
            height: 200px;
            /* Increased to make logo much bigger */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-container img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
        }

        /* SVG Placeholder Logo */
        .svg-logo {
            width: 120px;
            height: 120px;
            color: #f97316;
            /* Orange-500 */
        }

        h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            color: #f8fafc;
            /* Slate-50 (White) */
            font-weight: 700;
            letter-spacing: -0.025em;
        }

        p.subtitle {
            color: #cbd5e1;
            /* Slate-300 (Light Gray) */
            margin-bottom: 2.5rem;
            font-size: 1rem;
            line-height: 1.5;
        }

        .input-group {
            position: relative;
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #cbd5e1;
            /* Slate-300 */
        }

        .input-wrapper {
            position: relative;
        }

        .input-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            /* Slate-400 */
            width: 20px;
            height: 20px;
            transition: color 0.2s;
        }

        /* Focus color for icon */
        .input-wrapper:focus-within .input-icon {
            color: #f97316;
            /* Orange-500 */
        }

        input[type="text"],
        input[type="tel"] {
            width: 100%;
            padding: 1rem 1rem 1rem 48px;
            border: 2px solid #334155;
            /* Slate-700 */
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
            color: #1e293b;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
            background: #f8fafc;
            /* Slate-50 */
        }

        input:focus {
            border-color: #f97316;
            /* Orange-500 */
            background: white;
            box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.2);
        }

        input::placeholder {
            color: #94a3b8;
        }

        button {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            /* Orange Gradient */
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px -1px rgba(249, 115, 22, 0.3), 0 2px 4px -1px rgba(249, 115, 22, 0.15);
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 15px -3px rgba(249, 115, 22, 0.4), 0 4px 6px -2px rgba(249, 115, 22, 0.2);
            filter: brightness(1.05);
        }

        button:active {
            transform: translateY(0);
            filter: brightness(0.95);
        }

        .legal {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 2rem;
            line-height: 1.5;
        }

        .legal a {
            color: #f97316;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        .legal a:hover {
            color: #c2410c;
            /* Orange-700 */
            text-decoration: underline;
        }

        .powered-by {
            margin-top: 2rem;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.3);
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            z-index: 10;
        }

        /* Validation State */
        input:invalid:not(:placeholder-shown) {
            border-color: #ef4444;
            /* Red-500 */
        }
    </style>
</head>

<body>
    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>

    <div class="card">
        <div class="logo-container">
            <% if (tenant.logoUrl) { %>
                <img src="<%= tenant.logoUrl %>" alt="Logo <%= tenant.name %>">
                <% } else { %>
                    <!-- Default Logo (User Uploaded) -->
                    <img src="/images/logo.png" alt="Logo Padrão"
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">

                    <!-- Fallback SVG if image fails -->
                    <div class="logo-fallback"
                        style="display: none; align-items: center; gap: 10px; justify-content: center;">
                        <svg class="svg-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                            <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                            <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                            <line x1="12" y1="20" x2="12.01" y2="20"></line>
                        </svg>
                    </div>
                    <% } %>
        </div>

        <h1>Bem-vindo!</h1>
        <p class="subtitle">
            <%= tenant.portalTitle || 'Conecte-se para aproveitar nossa internet de alta velocidade.' %>
        </p>

        <form action="/portal/<%= tenant.id %>/login" method="POST">
            <!-- Hidden Fields required for Auth -->
            <input type="hidden" name="mac" value="<%= mac %>">
            <input type="hidden" name="loginUrl" value="<%= loginUrl %>">
            <input type="hidden" name="originalUrl" value="<%= originalUrl %>">
            <input type="hidden" name="ip" value="<%= ip %>">
            <input type="hidden" name="user_hash" value="<%= user_hash %>">
            <input type="hidden" name="ts" value="<%= ts %>">

            <div class="input-group">
                <label for="whatsapp" class="input-label">WhatsApp</label>
                <div class="input-wrapper">
                    <!-- Open Padlock Icon SVG -->
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
                    </svg>
                    <input type="tel" id="whatsapp" name="whatsapp" placeholder="(DDD) 99999-9999" required
                        pattern="[0-9]{10,11}" title="Digite apenas números com DDD">
                </div>
            </div>

            <!-- Green Button -->
            <button type="submit"
                style="background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); box-shadow: 0 4px 6px -1px rgba(37, 211, 102, 0.3);">
                LIBERAR
            </button>

            <p class="legal">
                Ao conectar, você concorda com os <a href="#">Termos de Uso</a> e <a href="#">Política de
                    Privacidade</a>.
            </p>
        </form>
    </div>

    <div class="powered-by">Seguro e Rápido &bull; Portal Wi-Fi</div>
</body>

</html>